BB1.PNAP.0101.SEA0#show run
! Command: show running-config
! device: BB1.PNAP.0101.SEA0 (DCS-7280SR2-48YC6-M, EOS-4.26.4M)
!
! boot system flash:/EOS64-4.26.4M.swi
!
no aaa root
!
!
hardware access-list mechanism tcam
!
terminal length 25
terminal width 500
alias pp ping vrf PNAP-EDGE %1 repeat 10 source %2
!
schedule tech-support interval 720 timeout 30 max-log-files 20 command show tech-support
!
errdisable recovery cause link-flap
errdisable recovery interval 900
!
no hardware access-list resource sharing vlan ipv4 out
!
transceiver qsfp default-mode 4x10G
!
service routing protocols model multi-agent
!
errdisable flap-setting cause link-flap max-flaps 2 time 300
!
logging buffered 5000
logging host 172.20.22.75 514
logging host 192.168.7.106 514
logging format hostname fqdn
logging source-interface Management1
!
hostname BB1.PNAP.0101.SEA0
!
track ETH20 interface Ethernet20 line-protocol
!
sflow sample 1024
sflow vrf PNAP-EDGE destination 208.76.14.240 20013
sflow vrf PNAP-EDGE destination 199.201.106.52 6356
sflow vrf PNAP-EDGE source-interface Loopback1
sflow run
!
snmp-server engineID local f5717f7483ef0bac3500
snmp-server location SEA0
snmp-server local-interface Management1
snmp-server vrf PNAP-EDGE local-interface Loopback1
snmp-server community
snmp-server group SNMPV3 v3 priv
snmp-server user 
snmp-server vrf PNAP-EDGE
!
spanning-tree mode mstp
!
clock timezone US/Arizona
!
vlan 43
   name 22961:NCV_NIMBLE_STORAGE
!
vlan 201
   name TRANSPORT-EDGE-TPT1/BB1
!
vrf instance PNAP-CORE
   rd 2:2
!
vrf instance PNAP-EDGE
   rd 1:1
!
bfd interval 500 min_rx 500 multiplier 6 default
!
banner motd
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+                       BB1.PNAP.SEA0                            +
+                                                                +
+ WARNING:  Entry into this machine is restricted to             +
+           CWIE/CAVECREEK/ECS administrators only!              +
+           Unauthorized users will be PROSECUTED to the full    +
+           extent of State, Federal or International law.       +
+                                                                +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
EOF
!
!
interface Port-Channel3
   description BB1.vrf-core.po4
   no switchport
   vrf PNAP-EDGE
   ip address 10.118.0.5/30
   ipv6 address 2607:6000:900:3::5/126
   ipv6 address fe80::7483:efff:fe0b:ac34/64 link-local
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
   ipv6 ospf network point-to-point
   sflow enable
!
interface Port-Channel4
   description BB1.vrf-edge.po3
   no switchport
   vrf PNAP-CORE
   ip address 10.118.0.6/30
   ipv6 address 2607:6000:900:3::6/126
   ipv6 address fe80::7483:efff:fe0b:ac36/64 link-local
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
   ipv6 ospf network point-to-point
   no sflow enable
!
interface Port-Channel11
   description TPT1.PNAP.SEA0
   switchport trunk allowed vlan 201
   switchport mode trunk
!
interface Ethernet1
   shutdown
   load-interval 30
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   no lldp transmit
   no lldp receive
   ip ospf area 0.0.0.0
!
interface Ethernet2
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet3
   description ISP:SEA0:COGENT:AS174:CID:300200613
   load-interval 30
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   ip address 38.142.190.98/29
   ipv6 address 2001:550:2:61::2c8:2/112
   no lldp transmit
   no lldp receive
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
interface Ethernet4
   description ISP:SEA0:COGENT:AS174:CID:300200614
   load-interval 30
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   ip address 38.142.49.74/29
   ipv6 address 2001:550:2:13::93:2/112
   no lldp transmit
   no lldp receive
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
interface Ethernet5
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet6
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet7
   description ISP:SEA0:CENTURYLINK:AS3356:SID:441250415
   load-interval 30
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   ip address 4.59.234.114/30
   ipv6 address 2001:1900:2100::521e/126
   no lldp transmit
   no lldp receive
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
interface Ethernet8
   description ISP:SEA0:CENTURYLINK:AS3356:SID:441071353
   load-interval 30
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   ip address 4.16.224.150/30
   ipv6 address 2001:1900:2100::4fae/126
   no lldp transmit
   no lldp receive
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
interface Ethernet9
   description BB2.vrf-edge.Eth9-12
   no switchport
   channel-group 1 mode active
!
interface Ethernet10
   description BB2.vrf-edge.Eth9-12
   no switchport
   channel-group 1 mode active
!
interface Ethernet11
   description BB2.vrf-edge.Eth9-12
   no switchport
   channel-group 1 mode active
!
interface Ethernet12
   description BB2.vrf-edge.Eth9-12
   no switchport
   channel-group 1 mode active
!
interface Ethernet13
   description CUST:25539:REPAY
   speed auto
   no switchport
   vrf PNAP-CORE
   ip address 131.153.61.193/29
   ip ospf area 0.0.0.0
!
interface Ethernet14
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet15
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet16
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet17
   description BB1.vrf-core.Eth33-36
   speed forced 25gfull
   no switchport
   channel-group 3 mode on
!
interface Ethernet18
   description BB1.vrf-core.Eth33-36
   speed forced 25gfull
   no switchport
   channel-group 3 mode on
!
interface Ethernet19
   description BB1.vrf-core.Eth33-36
   speed forced 25gfull
   no switchport
   channel-group 3 mode on
!
interface Ethernet20
   description BB1.vrf-core.Eth33-36
   speed forced 25gfull
   no switchport
   channel-group 3 mode on
!
interface Ethernet21
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet22
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet23
   description XCONN:TPT1.PNAP.SEA0:Eth21
   speed forced 10000full
   channel-group 11 mode active
   sflow enable
!
interface Ethernet24
   description XCONN:AR1.DDOS.0101.SEA0:Eth49:B4ACL
   speed forced 10000full
   no switchport
   vrf PNAP-EDGE
   ip address 172.31.204.153/30
   ipv6 address 2607:6000:900:43::185/126
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   no sflow enable
!
interface Ethernet25
   description XCONN:TPT1.PNAP.SEA0:Eth25
   speed forced 10000full
   channel-group 11 mode active
   sflow enable
!
interface Ethernet26
   description XCONN:TPT1.PNAP.SEA0:Eth26
   speed forced 10000full
   channel-group 11 mode active
   sflow enable
!
interface Ethernet27
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet28
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet29
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet30
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet31
   description XCONN:AR1.INJECT-NETWORK.0101.SEA0:Eth24
   speed forced 10000full
   no switchport
   vrf PNAP-CORE
   ip address 172.31.203.81/29
   ipv6 address 2607:6000:900:66::209/112
   ip ospf area 0.0.0.0
   ipv6 ospf 100 area 0.0.0.0
   no sflow enable
!
interface Ethernet32
   description XCONN:SW1.SS-HQ.0101.SEA0:ETH49
   speed forced 10000full
   no switchport
   vrf PNAP-CORE
   ip address 10.118.0.13/30
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
   no sflow enable
!
interface Ethernet33
   description BB1.vrf-edge.Eth17-20
   speed forced 25gfull
   no switchport
   channel-group 4 mode on
!
interface Ethernet34
   description BB1.vrf-edge.Eth17-20
   speed forced 25gfull
   no switchport
   channel-group 4 mode on
!
interface Ethernet35
   description BB1.vrf-edge.Eth17-20
   speed forced 25gfull
   no switchport
   channel-group 4 mode on
!
interface Ethernet36
   description BB1.vrf-edge.Eth17-20
   speed forced 25gfull
   no switchport
   channel-group 4 mode on
!
interface Ethernet37
   description BB2.vrf-core.Eth37-40
   no switchport
   channel-group 2 mode active
!
interface Ethernet38
   description BB2.vrf-core.Eth37-40
   no switchport
   channel-group 2 mode active
!
interface Ethernet39
   description BB2.vrf-core.Eth37-40
   no switchport
   channel-group 2 mode active
!
interface Ethernet40
   description BB2.vrf-core.Eth37-40
   no switchport
   channel-group 2 mode active
!
interface Ethernet41
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet42
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet43
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet44
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet45
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet46
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet47
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet48
   shutdown
   speed forced 10000full
   no switchport
!
interface Ethernet49/1
   description ISP:SEA0:TELIA:AS1299:IC-375956
   load-interval 30
   mtu 9214
   speed forced 100gfull
   no switchport
   vrf PNAP-EDGE
   ip address 62.115.56.69/31
   ipv6 address 2001:2035:0:260c::2/126
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
!
!POC relevant config addition over and above base config
interface Ethernet51/1
 channel-group 50 mode on 
!
interface Ethernet50/1
 channel-group 50 mode on

interface port-channel 50
   description CORE<>CORE cross link for spine cross link
!
interface port-channel 50.10
   description EDGE<>EDGE
   encapsulation dot1q vlan 10
   vrf PNAP-EDGE
   ip address 10.118.0.1/30
   ipv6 address 2607:6000:900:3::1/126
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
   ipv6 ospf network point-to-point
   ipv6 ospf 1 area 0.0.0.0
   sflow enable
!
interface port-channel 50.20
	description CORE<>CORE
	encapsulation dot1q vlan 20
	vrf PNAP-CORE
	ip address 10.118.0.9/30
    ipv6 address 2607:ff00:901:3::1/126
    ip ospf network point-to-point
    ip ospf area 0.0.0.0
    ipv6 ospf network point-to-point
    ipv6 ospf 100 area 0.0.0.0
!
interface port-channel 50.60	
	description SPINE1>CORE2
	encapsulation dot1q vlan 60
	vrf SPINE
    ip address 131.153.60.8/31
    ipv6 enable
    ipv6 address 2000:1000:60::15/126
!
interface port-channel 50.61
	description CORE1>SPINE2
	encapsulation dot1q vlan 61
	vrf SPINE
    ip address 131.153.60.10/31
    ipv6 enable
    ipv6 address 2000:1000:60::a/126	
!  
interface Ethernet52/1
   description CORE<>SPINE link same device
   vrf PNAP-CORE
   ip address 131.153.60.6/31
   ipv6 enable
   ipv6 address 2000:1000:60::6/126
!
interface Ethernet53/1  
   description SPINE<>CORE link same device
   vrf SPINE
   ip address 131.153.60.7/31
   ipv6 enable
   ipv6 address 2000:1000:60::7/126
!
interface Ethernet54/2
	description SPINE<>LEAF1.1
	vrf SPINE
	ip address 10.216.197.0/31
	ipv6 enable
	ipv6 address 2000:1000:1::1/126
!
interface loopback 20
	description SPINE-VRF-ROUTER-ID
	vrf SPINE
	ip address 131.153.20.5/32
interface loopback 30
	description SPINE-VRF-EVPN
	vrf SPINE
	ip address 10.216.199.1/32
!
!POC relevant config addition over and above base config
interface Loopback1
   description iBGP-LOOPBACK-PNAP-EDGE
   vrf PNAP-EDGE
   ip address 131.153.60.1/32
   ipv6 address 2607:6000:900:1::1/128
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
!
interface Loopback2
   description BGP-COGENT-LOOPBACK
   vrf PNAP-EDGE
   ip address 131.153.60.129/32
   ipv6 address 2607:6000:900:1::3/128
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
!
interface Loopback4
   description BGP-CENTURY_LINK-LOOPBACK
   vrf PNAP-EDGE
   ip address 131.153.60.133/32
   ipv6 address 2607:6000:900:1::6/128
   ip ospf area 0.0.0.0
   ipv6 ospf 1 area 0.0.0.0
!
interface Loopback101
   description IGP-LOOPBACK-PNAP-CORE
   vrf PNAP-CORE
   ip address 131.153.60.3/32
   ipv6 address 2607:ff00:901:1::1/128
   ipv6 ospf 100 area 0.0.0.0
!
interface Management1
   ip address 10.118.2.2/25
!
interface Vlan201
   description TRANSPORT-EDGE-TPT1/BB1
   vrf PNAP-EDGE
   ip address 10.110.14.1/31
   ntp serve
!
hardware tcam
   profile FLEX-ROUTE
      feature acl port ip
         sequence 45
         key size limit 160
         key field dscp dst-ip ip-frag ip-protocol l4-dst-port l4-ops l4-src-port src-ip tcp-control ttl
         action count drop mirror
         packet ipv4 forwarding bridged
         packet ipv4 forwarding routed
         packet ipv4 forwarding routed multicast
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet ipv4 non-vxlan forwarding routed decap
         packet ipv4 vxlan eth ipv4 forwarding routed decap
         packet ipv4 vxlan forwarding bridged decap
      !
      feature acl port ip egress mpls-tunnelled-match
         sequence 95
      !
      feature acl port ipv6
         sequence 25
         key field dst-ipv6 ipv6-next-header ipv6-traffic-class l4-dst-port l4-ops-3b l4-src-port src-ip                                                                                                           v6-high src-ipv6-low tcp-control
         action count drop mirror
         packet ipv6 forwarding bridged
         packet ipv6 forwarding routed
         packet ipv6 forwarding routed multicast
         packet ipv6 ipv6 forwarding routed decap
      !
      feature acl port ipv6 egress
         sequence 105
         key field dst-ipv6 ipv6-next-header ipv6-traffic-class l4-dst-port l4-src-port src-ipv6-high sr                                                                                                           c-ipv6-low tcp-control
         action count drop mirror
         packet ipv6 forwarding bridged
         packet ipv6 forwarding routed
      !
      feature acl port mac
         sequence 55
         key size limit 160
         key field dst-mac ether-type src-mac
         action count drop mirror
         packet ipv4 forwarding bridged
         packet ipv4 forwarding routed
         packet ipv4 forwarding routed multicast
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet ipv4 non-vxlan forwarding routed decap
         packet ipv4 vxlan forwarding bridged decap
         packet ipv6 forwarding bridged
         packet ipv6 forwarding routed
         packet ipv6 forwarding routed decap
         packet ipv6 forwarding routed multicast
         packet ipv6 ipv6 forwarding routed decap
         packet mpls forwarding bridged decap
         packet mpls ipv4 forwarding mpls
         packet mpls ipv6 forwarding mpls
         packet mpls non-ip forwarding mpls
         packet non-ip forwarding bridged
      !
      feature acl subintf ip
         sequence 40
         key size limit 160
         key field dscp dst-ip ip-frag ip-protocol l4-dst-port l4-ops-18b l4-src-port src-ip tcp-control                                                                                                            ttl
         action count drop
         packet ipv4 forwarding routed
      !
      feature acl subintf ipv6
         sequence 15
         key field dst-ipv6 ipv6-next-header l4-dst-port l4-src-port src-ipv6-high src-ipv6-low tcp-cont                                                                                                           rol
         action count drop
         packet ipv6 forwarding routed
      !
      feature acl vlan ip
         sequence 35
         key size limit 160
         key field dscp dst-ip ip-frag ip-protocol l4-dst-port l4-ops-18b l4-src-port src-ip tcp-control                                                                                                            ttl
         action count drop
         packet ipv4 forwarding routed
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet ipv4 non-vxlan forwarding routed decap
         packet ipv4 vxlan eth ipv4 forwarding routed decap
      !
      feature acl vlan ipv6
         sequence 10
         key field dst-ipv6 ipv6-next-header l4-dst-port l4-src-port src-ipv6-high src-ipv6-low tcp-cont                                                                                                           rol
         action count drop
         packet ipv6 forwarding routed
         packet ipv6 ipv6 forwarding routed decap
      !
      feature acl vlan ipv6 egress
         sequence 20
         key field dst-ipv6 ipv6-next-header ipv6-traffic-class l4-dst-port l4-src-port src-ipv6-high sr                                                                                                           c-ipv6-low tcp-control
         action count drop mirror
         packet ipv6 forwarding bridged
         packet ipv6 forwarding routed
      !
      feature counter lfib
         sequence 85
      !
      feature flex-route
         key size limit 80
         key field dst-ip
         action redirect
         packet ipv4 forwarding routed
         packet ipv4 non-vxlan forwarding routed decap
      !
      feature forwarding-destination mpls
         sequence 100
      !
      feature mpls
         sequence 5
         key size limit 160
         action drop redirect set-ecn
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet mpls ipv4 forwarding mpls
         packet mpls ipv6 forwarding mpls
         packet mpls non-ip forwarding mpls
      !
      feature mpls pop ingress
         sequence 90
      !
      feature pbr ip
         sequence 60
         key size limit 160
         key field dscp dst-ip ip-frag ip-protocol l4-dst-port l4-ops-18b l4-src-port src-ip tcp-control
         action count redirect
         packet ipv4 forwarding routed
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet ipv4 non-vxlan forwarding routed decap
         packet ipv4 vxlan forwarding bridged decap
      !
      feature pbr ipv6
         sequence 30
         key field dst-ipv6 ipv6-next-header l4-dst-port l4-src-port src-ipv6-high src-ipv6-low tcp-cont                                                                                                           rol
         action count redirect
         packet ipv6 forwarding routed
      !
      feature pbr mpls
         sequence 65
         key size limit 160
         key field mpls-inner-ip-tos
         action count drop redirect
         packet mpls ipv4 forwarding mpls
         packet mpls ipv6 forwarding mpls
         packet mpls non-ip forwarding mpls
      !
      feature qos ip
         sequence 75
         key size limit 160
         key field dscp dst-ip ip-frag ip-protocol l4-dst-port l4-ops l4-src-port src-ip tcp-control
         action set-dscp set-policer set-tc
         packet ipv4 forwarding routed
         packet ipv4 forwarding routed multicast
         packet ipv4 mpls ipv4 forwarding mpls decap
         packet ipv4 mpls ipv6 forwarding mpls decap
         packet ipv4 non-vxlan forwarding routed decap
      !
      feature qos ipv6
         sequence 70
         key field dst-ipv6 ipv6-next-header ipv6-traffic-class l4-dst-port l4-src-port src-ipv6-high sr                                                                                                           c-ipv6-low
         action set-dscp set-policer set-tc
         packet ipv6 forwarding routed
      !
      feature tunnel vxlan
         sequence 50
         key size limit 160
         packet ipv4 vxlan eth ipv4 forwarding routed decap
         packet ipv4 vxlan forwarding bridged decap
   system profile FLEX-ROUTE
!
ip virtual-router mac-address 00:00:00:01:00:20
!
ipv6 access-list SNMPv6
   10 deny ipv6 any any
!
ipv6 access-list TTYv6-ACCESS
   10 deny ipv6 any any
!
ip access-list standard 64
   10 permit 64.38.204.64/27
   20 permit 172.20.22.0/24
   30 permit host 64.38.205.146
   40 permit 10.239.0.0/16
   50 permit 209.50.158.0/23
   60 permit host 199.201.106.52
   70 permit host 192.168.206.101
!
ip access-list standard TTY
   10 permit host 10.31.19.16
   20 permit 10.31.19.32/30
   30 permit host 64.38.194.24
   40 permit host 64.38.204.81
   50 permit host 64.38.194.198
   60 permit host 64.38.194.197
   70 permit host 174.138.175.122
   80 permit host 172.20.22.120
   90 permit host 64.38.194.34
   100 permit host 172.20.22.250
   110 permit 172.20.22.0/24
!
ip routing
ip hardware fib optimize prefixes profile urpf-internet
ip routing vrf PNAP-CORE
ip routing vrf PNAP-EDGE
!
ip as-path regex-mode string
ip as-path access-list 400 permit ^$ any
ip as-path access-list 400 permit ^46385$ any
ip as-path access-list CENTURYLINK-BGP-TE-50 permit _139345$ any
ip as-path access-list CENTURYLINK-BGP-TE-50 permit _3816$ any
ip as-path access-list CENTURYLINK-BGP-TE-50 permit _7018$ any
ip as-path access-list CENTURYLINK-BGP-TE-500 permit _3462$ any
ip as-path access-list COGENT-BGP-TE-50 permit _7018$ any
ip as-path access-list COGENT-BGP-TE-500 permit _2516$ any
ip as-path access-list IPv6-ASPATH-FILTER permit ^$ any
ip as-path access-list SS-ASN permit ^46385$ any
ip as-path access-list SS-ATTACHED-CUSTOMERS permit ^46385_ any
ip as-path access-list SS-INJECT permit ^$ any
ip as-path access-list SS-INJECT deny ^12189$ any
ip as-path access-list SS-INJECT permit ^[0-9]+$ any
ip community-list 110 permit 174:3000
ip community-list 110 permit 174:990
ip community-list CWIE-NETWORKS-COMMUNITY permit 46385:888
ip community-list PNAP-ADVERTISED-LOCAL-ONLY permit 12189:200
ip community-list regexp REMOVE-NO-EXPORT permit no-export
ip community-list SS-ATTACHED-CUSTOMERS-COMMUNITY permit 65534:1
ip community-list regexp TO-RR permit _12189:100.._
ip community-list regexp TO-RR permit _12189:9..._
ip community-list regexp TO-TRANSPORT permit _12189:9..._
ip community-list regexp TO-TRANSPORT permit _12189:10..._
!
ip prefix-list BLACKHOLE
   seq 10 permit 0.0.0.0/0 ge 32
!
ip prefix-list BOGON
   seq 10 permit 10.0.0.0/8 le 32
   seq 20 permit 127.0.0.0/8 le 32
   seq 30 permit 169.254.0.0/16 le 32
   seq 40 permit 172.16.0.0/12 le 32
   seq 50 permit 192.168.0.0/16 le 32
!
ip prefix-list CCBILLCOM-HOST-ROUTE
   seq 5 permit 64.38.231.216/32
!
ip prefix-list DEFAULT-ONLY
   seq 10 permit 0.0.0.0/0
!
ip prefix-list INTERNAL-IP-CONNECTED
!
ip prefix-list INTERNAL-IPv6-CONNECTED
!
!
ip prefix-list PUBLIC-PNAP-SEA
   seq 20 permit 131.153.61.0/24
!
ip prefix-list SEA-PREF-LOCAL-ONLY
   seq 5 permit 131.153.84.0/24
!
ip prefix-list SLASH32
   seq 10 deny 0.0.0.0/32
   seq 20 permit 0.0.0.0/0 ge 32
!
ip prefix-list SS-FILTER
   seq 10 permit 0.0.0.0/0 le 31
!
ip prefix-list kentik-noreceive
   seq 2 permit 0.0.0.0/0 ge 32
   seq 4 deny 0.0.0.0/0 le 31
!
ipv6 prefix-list BLACKHOLE-IPv6
   seq 10 permit ::/0 ge 128
!
ipv6 prefix-list IPv6-BOGON
   seq 10 permit fec0::/18 le 32
   seq 20 permit fc00::/7 le 32
   seq 30 permit ::ffff:0.0.0.0/96
   seq 40 permit ::/96
   seq 50 permit 2001:10::/28 le 32
   seq 60 permit 2001:db8::/32 le 32
   seq 70 permit fe80::/10 le 32
   seq 80 permit fec0::/10 le 32
   seq 90 permit ff00::/8 le 32
   seq 100 permit 2002::/24 le 32
   seq 110 permit 2002:a00::/24 le 32
   seq 120 permit 2002:7f00::/24 le 32
   seq 130 permit 2002:a9fe::/32
   seq 140 permit 2002:ac10::/28 le 32
   seq 150 permit 2002:c000::/40
   seq 160 permit 2002:c000:200::/40
   seq 170 permit 2002:c0a8::/32
   seq 180 permit 2002:c612::/31 le 32
   seq 190 permit 2002:c633:6400::/40
   seq 200 permit 2002:cb00:7100::/40
   seq 210 permit 2002:e000::/20 le 32
   seq 220 permit 2002:f000::/20 le 32
   seq 230 permit 2002:ffff:ffff::/48
   seq 240 permit 2001::/40
   seq 250 permit 2001:0:a00::/40
   seq 260 permit 2001:0:7f00::/40
   seq 270 permit 2001:0:a9fe::/48
   seq 280 permit 2001:0:ac10::/44
   seq 290 permit 2001:0:c000::/56
   seq 300 permit 2001:0:c000:200::/56
   seq 310 permit 2001:0:c0a8::/48
   seq 320 permit 2001:0:c612::/47
   seq 330 permit 2001:0:c633:6400::/56
   seq 340 permit 2001:0:cb00:7100::/56
   seq 350 permit 2001:0:e000::/36
   seq 360 permit 2001:0:f000::/36
   seq 370 permit 2001:0:ffff:ffff::/64
!
ipv6 prefix-list IPv6-CIDR-48-MAX-PREFIX
   seq 10 permit ::/0 ge 16 le 47
   seq 20 permit ::/0
!
ipv6 prefix-list IPv6-DEFAULT-ONLY
   seq 10 permit ::/0
!
ipv6 prefix-list LOCAL-SLASH128
   seq 10 deny ::/0 ge 128
   seq 20 permit 2607:ff00:900::/40 ge 128
   seq 30 permit 2607:6000:900::/40 ge 128
   seq 40 permit 2607:6003:2309::/48 ge 128
!
!
ipv6 prefix-list kentik-noreceive
   seq 10 permit ::/0 ge 128
   seq 20 deny ::/0 le 127
!
ipv6 unicast-routing
ipv6 hardware fib optimize prefixes profile internet
ipv6 unicast-routing vrf PNAP-CORE
ipv6 unicast-routing vrf PNAP-EDGE
!
ip route 10.20.28.100/32 10.118.2.1
ip route 10.20.28.101/32 10.118.2.1
ip route 10.31.19.16/32 10.118.2.1
ip route 98.143.32.107/32 10.118.2.1
ip route 110.54.247.254/32 Null0
ip route 125.212.176.253/32 Null0
ip route 144.0.88.39/32 Null0
ip route 171.245.123.224/32 Null0
ip route 172.20.22.0/24 10.118.2.1
ip route 192.168.7.106/32 10.118.2.1
ip route 192.168.206.0/24 10.118.2.1
ip route vrf PNAP-CORE 131.153.60.1/32 10.118.0.5 name TO-LOOPBACK1-EDGE
ip route vrf PNAP-CORE 131.153.60.4/32 10.118.0.10 name TO-BB2-PNAP-LOOPBACK101
ip route vrf PNAP-CORE 131.153.61.0/24 Null0 name HOLDDOWN
ip route vrf PNAP-CORE 131.153.165.0/24 Null0 name HOLDDOWN_BMC
ip route vrf PNAP-EDGE 4.69.248.73/32 4.16.224.149 name CENTURYLINK-BGP-LOOPBACK
ip route vrf PNAP-EDGE 4.69.248.73/32 4.59.234.113 name CENTURYLINK-BGP-LOOPBACK
ip route vrf PNAP-EDGE 10.110.0.0/19 10.110.14.0
ip route vrf PNAP-EDGE 10.118.0.8/30 10.118.0.6 109
ip route vrf PNAP-EDGE 38.101.160.38/32 Ethernet4 38.142.49.73
ip route vrf PNAP-EDGE 38.101.160.38/32 Ethernet3 38.142.190.97
ip route vrf PNAP-EDGE 98.143.32.155/32 172.31.204.154 name DDOS-NEXT-HOP-INJECTION
ip route vrf PNAP-EDGE 131.153.60.0/22 Null0 name HOLDDOWN
ip route vrf PNAP-EDGE 131.153.60.2/32 10.118.0.2 name TO-BB2-VRF-EDGE
ip route vrf PNAP-EDGE 131.153.60.3/32 10.118.0.6 name TO-LOOPBACK101-CORE
ip route vrf PNAP-EDGE 131.153.60.4/32 10.118.0.6 201 name BB2-CORE-LB-101
!
ipv6 route vrf PNAP-CORE 2607:6000:900:1::1/128 2607:6000:900:3::5
ipv6 route vrf PNAP-CORE 2607:ff00:900::/40 Null0 name HOLDDOWN
ipv6 route vrf PNAP-EDGE 2001:550:2:23::20/128 2001:550:2:13::93:1 name TO-COGENT-LOOPBACK
ipv6 route vrf PNAP-EDGE 2001:550:2:23::20/128 2001:550:2:61::2c8:1 name TO-COGENT-LOOPBACK
ipv6 route vrf PNAP-EDGE 2001:1900::5:60/128 Ethernet8 2001:1900:2100::4fad name CENTURYLINK-BGP-LOOPBAC                                                                                                           K
ipv6 route vrf PNAP-EDGE 2001:1900::5:60/128 Ethernet7 2001:1900:2100::521d name CENTURYLINK-BGP-LOOPBAC                                                                                                           K
ipv6 route vrf PNAP-EDGE 2607:6000:100:41::155/128 Ethernet24 2607:6000:900:43::186 name DDOS-NEXT-HOP-I                                                                                                           NJECTION
ipv6 route vrf PNAP-EDGE 2607:6000:900::/40 Null0 name HOLDDOWN
ipv6 route vrf PNAP-EDGE 2607:ff00:901:1::1/128 2607:6000:900:3::6
!
ntp server vrf PNAP-EDGE 98.143.32.107 version 4 source Loopback1
ntp server vrf PNAP-EDGE 131.153.128.49 prefer version 4 source Loopback1
!
route-map BGP-IPv6-GENERIC-GROUP-IN deny 10
   match ipv6 address prefix-list IPv6-BOGON
!
route-map BGP-IPv6-GENERIC-GROUP-IN permit 100
   match ipv6 address prefix-list IPv6-CIDR-48-MAX-PREFIX
!
route-map BGP-IPv6-GENERIC-GROUP-OUT deny 10
   match ipv6 address prefix-list IPv6-BOGON
!
route-map BGP-IPv6-GENERIC-GROUP-OUT permit 20
   match as-path IPv6-ASPATH-FILTER
!
route-map BGP-IPv6-GENERIC-GROUP-OUT deny 100
!
route-map BGP-REDISTR-STATIC deny 10
   match ip address prefix-list BOGON
!
route-map BGP-REDISTR-STATIC deny 20
   match ipv6 address prefix-list IPv6-BOGO
!
route-map BGP-REDISTR-STATIC permit 30
   match ip address prefix-list BLACKHOLE
   match tag 666
   set origin igp
   set local-preference 500
   set community 174:990 174:3000 209:0 1299:999 1299:2009 1299:5009 1299:7009 2914:666 3257:666 3257:26                                                                                                           66 3356:123 3356:666 3356:9999 3549:600 3549:666 6461:5990 6762:666 7385:640 7385:666 7922:666 9002:666                                                                                                            12189:0 12189:999 12956:666 17819:666 19181:9 19181:301 22773:666 31042:999 32421:999 38930:666 64666:0                                                                                                            64999:0 65000:0 65009:0
!
route-map BGP-REDISTR-STATIC permit 40
   match ipv6 address prefix-list BLACKHOLE-IPv6
   match tag 666
   set origin igp
   set local-preference 500
   set community 174:990 174:3000 209:0 1299:999 1299:2009 1299:5009 1299:7009 2914:666 3257:666 3257:26                                                                                                           66 3356:123 3356:666 3356:9999 3549:600 3549:666 6461:5990 6762:666 7385:640 7385:666 7922:666 9002:666                                                                                                            12189:0 12189:999 12956:666 17819:666 19181:9 19181:301 22773:666 31042:999 32421:999 38930:666 64666:0                                                                                                            64999:0 65000:0 65009:0
!
route-map BGP-WANGUARD-FILTER-SERVER-IN deny 10
   match ip address prefix-list BOGON
!
route-map BGP-WANGUARD-FILTER-SERVER-IN deny 15
   match ipv6 address prefix-list IPv6-BOGON
!
route-map BGP-WANGUARD-FILTER-SERVER-IN permit 100
   match ip address prefix-list SLASH32
   set local-preference 750
!
route-map BGP-WANGUARD-FILTER-SERVER-IN permit 105
   match ipv6 address prefix-list LOCAL-SLASH128
   set local-preference 750
!
route-map BGP-WANGUARD-FILTER-SERVER-IN permit 110
   match ipv6 address prefix-list BLACKHOLE-IPv6
   set local-preference 750
!
route-map BGP-WANGUARD-NULL-SERVER-IN deny 10
   match ip address prefix-list BOGON
!
route-map BGP-WANGUARD-NULL-SERVER-IN permit 100
   match ip address prefix-list SLASH32
   set local-preference 800
!
route-map BGP-WANGUARD-NULL-SERVER-IN permit 110
   match ipv6 address prefix-list BLACKHOLE-IPv6
   set local-preference 800
!
route-map CENTURYLINK-BGP-PEER-IN deny 10
   match ip address prefix-list BOGON
!
route-map CENTURYLINK-BGP-PEER-IN deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map CENTURYLINK-BGP-PEER-IN permit 100
   match as-path CENTURYLINK-BGP-TE-50
   set local-preference 50
!
route-map CENTURYLINK-BGP-PEER-IN permit 200
   match as-path CENTURYLINK-BGP-TE-500
   set local-preference 500
!
route-map CENTURYLINK-BGP-PEER-IN permit 1000
!
route-map CENTURYLINK-BGP-PEER-OUT deny 10
   match ip address prefix-list BOGON
!
route-map CENTURYLINK-BGP-PEER-OUT deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map CENTURYLINK-BGP-PEER-OUT deny 100
   match community CENTURYLINK-DENY
!
route-map CENTURYLINK-BGP-PEER-OUT permit 150
   match as-path 400
   match community PREPEND-1
   set as-path prepend 12189
!
route-map CENTURYLINK-BGP-PEER-OUT permit 200
   match as-path 400
   match community PREPEND-2
   set as-path prepend 12189 12189
!
route-map CENTURYLINK-BGP-PEER-OUT permit 250
   match as-path 400
   match community PREPEND-3
   set as-path prepend 12189 12189 12189
!
route-map CENTURYLINK-BGP-PEER-OUT permit 300
   match as-path 400
   match community PREPEND-4
   set as-path prepend 12189 12189 12189 12189
!
route-map CENTURYLINK-BGP-PEER-OUT permit 1000
   match as-path 400
!
route-map CENTURYLINK-BGP-PEER-OUT deny 2000
!
route-map COGENT-BGP-BLACKHOLE-IN deny 10
!
route-map COGENT-BGP-BLACKHOLE-OUT deny 10
   match ip address prefix-list BOGON
!
route-map COGENT-BGP-BLACKHOLE-OUT permit 100
   match community 110
!
route-map COGENT-BGP-PEER-IN deny 10
   match ip address prefix-list BOGON
!
route-map COGENT-BGP-PEER-IN deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map COGENT-BGP-PEER-IN permit 100
   match as-path COGENT-BGP-TE-50
   set local-preference 50
!
route-map COGENT-BGP-PEER-IN permit 200
   match as-path COGENT-BGP-TE-500
   set local-preference 500
!
route-map COGENT-BGP-PEER-IN permit 1000
!
route-map COGENT-BGP-PEER-OUT deny 10
   match ip address prefix-list BOGON
!
route-map COGENT-BGP-PEER-OUT deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map COGENT-BGP-PEER-OUT deny 100
   match community COGENT-DENY
!
route-map COGENT-BGP-PEER-OUT permit 110
   match ip address prefix-list PNAP-GLOBAL
   continue
   set community 46385:889 additive
!
route-map COGENT-BGP-PEER-OUT permit 115
   match ip address prefix-list PNAP-GLOBAL-BLACKHOLE
   match tag 999
   continue
   set community 46385:999 additive
!
route-map COGENT-BGP-PEER-OUT permit 120
   match ip address prefix-list PNAP-GLOBAL-PHX
   continue
   set community 46385:884 additive
!
route-map COGENT-BGP-PEER-OUT permit 125
   match ip address prefix-list PNAP-GLOBAL-ASH
   continue
   set community 46385:886 additive
!
route-map COGENT-BGP-PEER-OUT permit 130
   match ip address prefix-list PNAP-GLOBAL-LA
   continue
   set community 46385:888 additive
!
route-map COGENT-BGP-PEER-OUT permit 135
   match ip address prefix-list PNAP-GLOBAL-NLD
   continue
   set community 46385:885 additive
!
route-map COGENT-BGP-PEER-OUT permit 140
   match ip address prefix-list PNAP-GLOBAL-ATL
   continue
   set community 46385:883 additive
!
route-map COGENT-BGP-PEER-OUT permit 150
   match as-path 400
   match community PREPEND-1
   set as-path prepend 12189
!
route-map COGENT-BGP-PEER-OUT permit 200
   match as-path 400
   match community PREPEND-2
   set as-path prepend 12189 12189
!
route-map COGENT-BGP-PEER-OUT permit 250
   match as-path 400
   match community PREPEND-3
   set as-path prepend 12189 12189 12189
!
route-map COGENT-BGP-PEER-OUT permit 300
   match as-path 400
   match community PREPEND-4
   set as-path prepend 12189 12189 12189 12189
!
route-map COGENT-BGP-PEER-OUT permit 1000
   match as-path 400
!
route-map ISP-GENERIC-IN deny 10
   match ip address prefix-list BOGON
!
route-map ISP-GENERIC-IN permit 100
!
route-map ISP-GENERIC-OUT deny 10
   match ip address prefix-list BOGON
!
route-map ISP-GENERIC-OUT deny 20
   match community CWIE-NETWORKS-COMMUNITY
!
route-map ISP-GENERIC-OUT permit 100
   match as-path 400
!
route-map NULL-CONNECTED deny 10
   match ip address prefix-list BOGON
!
route-map NULL-CONNECTED permit 20
   match ip address prefix-list INTERNAL-IP-CONNECTED
   set community 174:990 174:3000 209:0 1299:999 1299:2009 1299:5009 1299:7009 2914:666 3257:666 3257:26                                                                                                           66 3356:123 3356:666 3356:9999 3549:600 3549:666 6461:5990 6762:666 7385:640 7385:666 7922:666 9002:666                                                                                                            12189:0 12189:999 12956:666 17819:666 19181:9 19181:301 22773:666 31042:999 32421:999 38930:666 64666:0                                                                                                            64999:0 65000:0 65009:0
!
route-map NULL-CONNECTED deny 100
   match ipv6 address prefix-list IPv6-BOGON
!
route-map NULL-CONNECTED permit 120
   match ipv6 address prefix-list INTERNAL-IPv6-CONNECTED
   set community 174:990 174:3000 209:0 1299:999 1299:2009 1299:5009 1299:7009 2914:666 3257:666 3257:26                                                                                                           66 3356:123 3356:666 3356:9999 3549:600 3549:666 6461:5990 6762:666 7385:640 7385:666 7922:666 9002:666                                                                                                            12189:0 12189:999 12956:666 17819:666 19181:9 19181:301 22773:666 31042:999 32421:999 38930:666 64666:0                                                                                                            64999:0 65000:0 65009:0
!
route-map PNAP-CORE-BGP-IN deny 10
   match ip address prefix-list BOGON
!
route-map PNAP-CORE-BGP-IN permit 100
   match as-path SS-ASN
   set local-preference 1100
   set community 12189:10000 additive
!
route-map PNAP-CORE-BGP-IN permit 200
   match as-path SS-ATTACHED-CUSTOMERS
   match community SS-ATTACHED-CUSTOMERS-COMMUNITY
   set local-preference 1100
!
route-map PNAP-CORE-BGP-IN permit 300
   match ip address prefix-list SLASH32
   match community WANGUARD-BH
   set local-preference 1100
!
route-map PNAP-CORE-BGP-OUT permit 10
   match ip address prefix-list DEFAULT-ONLY
!
route-map PNAP-CORE-BGP-OUT permit 15
   match ipv6 address prefix-list IPv6-DEFAULT-ONLY
!
route-map PNAP-CORE-BGP-OUT deny 100
!
route-map PNAP-EDGE-BGP-IN deny 10
   match ip address prefix-list BOGON
!
route-map PNAP-EDGE-BGP-IN deny 15
   match ipv6 address prefix-list IPv6-BOGON
!
route-map PNAP-EDGE-BGP-IN permit 20
   match ip address prefix-list DEFAULT-ONLY
!
route-map PNAP-EDGE-BGP-IN permit 30
   match ipv6 address prefix-list IPv6-DEFAULT-ONLY
!
route-map PNAP-EDGE-BGP-IN permit 100
   match ip address prefix-list SS-FILTER
!
route-map PNAP-EDGE-BGP-OUT permit 40
   match ip address prefix-list PNAP-GLOBAL
   continue
   set community 46385:889 additive
!
route-map PNAP-EDGE-BGP-OUT permit 50
   match ip address prefix-list PNAP-GLOBAL-BLACKHOLE
   match tag 999
   continue
   set community 46385:999 additive
!
route-map PNAP-EDGE-BGP-OUT permit 51
   match ip address prefix-list PNAP-GLOBAL-PHX
   continue
   set community 46385:884 additive
!
route-map PNAP-EDGE-BGP-OUT permit 55
   match ip address prefix-list PNAP-GLOBAL-ASH
   continue
   set community 46385:886 additive
!
route-map PNAP-EDGE-BGP-OUT permit 60
   match ip address prefix-list PNAP-GLOBAL-LA
   continue
   set community 46385:888 additive
!
route-map PNAP-EDGE-BGP-OUT permit 65
   match ip address prefix-list PNAP-GLOBAL-NLD
   continue
   set community 46385:885 additive
!
route-map PNAP-EDGE-BGP-OUT permit 70
   match ip address prefix-list PNAP-GLOBAL-ATL
   continue
   set community 46385:883 additive
!
route-map PNAP-EDGE-BGP-OUT permit 100
   match as-path 400
!
route-map SC-BGP-PEER-OUT deny 10
   match ip address prefix-list BOGON
   continue
!
route-map SC-BGP-PEER-OUT permit 20
   match ip address prefix-list SEA-PREF-LOCAL-ONLY
   continue
   set community 12189:200
!
route-map SPN-BMC-OUT deny 10
   match ip address prefix-list BOGON
!
route-map SPN-BMC-OUT permit 100
   match ip address prefix-list DEFAULT-ONLY
!
route-map SS-INJECT-IN deny 10
!
route-map SS-INJECT-OUT permit 10
   match as-path SS-INJECT
!
route-map TELIA-BGP-PEER-IN deny 10
   match ip address prefix-list BOGON
!
route-map TELIA-BGP-PEER-IN deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map TELIA-BGP-PEER-IN permit 100
   match as-path TELIA-BGP-TE-50
   set local-preference 50
!
route-map TELIA-BGP-PEER-IN permit 200
   match as-path TELIA-BGP-TE-500
   set local-preference 500
!
route-map TELIA-BGP-PEER-IN permit 1000
!
route-map TELIA-BGP-PEER-OUT deny 10
   match ip address prefix-list BOGON
!
route-map TELIA-BGP-PEER-OUT deny 50
   match ipv6 address prefix-list IPv6-BOGON
!
route-map TELIA-BGP-PEER-OUT deny 100
   match community TELIA-DENY
!
route-map TELIA-BGP-PEER-OUT permit 150
   match as-path 400
   match community PREPEND-1
   set as-path prepend 12189
!
route-map TELIA-BGP-PEER-OUT permit 200
   match as-path 400
   match community PREPEND-2
   set as-path prepend 12189 12189
!
route-map TELIA-BGP-PEER-OUT permit 250
   match as-path 400
   match community PREPEND-3
   set as-path prepend 12189 12189 12189
!
route-map TELIA-BGP-PEER-OUT permit 300
   match as-path 400
   match community PREPEND-4
   set as-path prepend 12189 12189 12189 12189
!
route-map TELIA-BGP-PEER-OUT permit 1000
   match as-path 400
!
route-map US-NO-EXPORT permit 10
   set community 12189:9000
!
route-map US-RR-IN permit 100
!
route-map US-RR-OUT permit 10
   match as-path 400
   match community TO-RR
   set ip next-hop 10.110.14.1
!
route-map US-RR-OUT permit 20
   match community TO-RR
!
route-map US-TRANSPORT-OUT permit 10
   match as-path 400
   match community TO-TRANSPORT
   set community community-list REMOVE-NO-EXPORT delete
   set ip next-hop 10.110.14.1
!
route-map US-TRANSPORT-OUT permit 20
   match community TO-TRANSPORT
   set community community-list REMOVE-NO-EXPORT delete
!
route-map WANGUARD-SERVER-IN permit 10
   match ip address prefix-list SLASH32
   set community 174:990 174:3000 209:0 1299:999 1299:2009 1299:5009 1299:7009 2914:666 3257:666 3257:26                                                                                                           66 3356:123 3356:666 3356:9999 3549:600 3549:666 6461:5990 6762:666 7385:640 7385:666 7922:666 9002:666                                                                                                            12189:0 12189:999 12956:666 17819:666 19181:9 19181:301 22773:666 31042:999 32421:999 38930:666 64666:0                                                                                                            64999:0 65000:0 65009:0
!
route-map WANGUARD-SERVER-IN deny 100
!
router bgp 12189
   update wait-install
   neighbor ISP-PEER-GROUP peer group
   neighbor ISP-PEER-GROUP shutdown
   neighbor ISP-PEER-GROUP remove-private-as
   neighbor ISP-PEER-GROUP description GENERIC-ISP-PG
   neighbor ISP-PEER-GROUP ebgp-multihop 2
   neighbor ISP-PEER-GROUP route-map ISP-GENERIC-IN in
   neighbor ISP-PEER-GROUP route-map ISP-GENERIC-OUT out
   neighbor ISP-PEER-GROUP password 
   neighbor ISP-PEER-GROUP send-community
   neighbor ISP-PEER-GROUP maximum-routes 0
   neighbor PNAP-CORE-PEER-GROUP peer group
   neighbor PNAP-CORE-PEER-GROUP remote-as 46385
   neighbor PNAP-CORE-PEER-GROUP remove-private-as
   neighbor PNAP-CORE-PEER-GROUP update-source Loopback1
   neighbor PNAP-CORE-PEER-GROUP ebgp-multihop 2
   neighbor PNAP-CORE-PEER-GROUP route-map PNAP-CORE-BGP-IN in
   neighbor PNAP-CORE-PEER-GROUP route-map PNAP-CORE-BGP-OUT out
   neighbor PNAP-CORE-PEER-GROUP password 
   neighbor PNAP-CORE-PEER-GROUP default-originate
   neighbor PNAP-CORE-PEER-GROUP send-community
   neighbor PNAP-CORE-PEER-GROUP maximum-routes 12000
   neighbor PNAP-EDGE-PEER-GROUP peer group
   neighbor PNAP-EDGE-PEER-GROUP remote-as 12189
   neighbor PNAP-EDGE-PEER-GROUP remove-private-as
   neighbor PNAP-EDGE-PEER-GROUP update-source Loopback101
   neighbor PNAP-EDGE-PEER-GROUP ebgp-multihop 2
   neighbor PNAP-EDGE-PEER-GROUP route-map PNAP-EDGE-BGP-IN in
   neighbor PNAP-EDGE-PEER-GROUP route-map PNAP-EDGE-BGP-OUT out
   neighbor PNAP-EDGE-PEER-GROUP password 
   neighbor PNAP-EDGE-PEER-GROUP send-community
   neighbor PNAP-EDGE-PEER-GROUP maximum-routes 0
   neighbor SPN-BMC peer group
   neighbor SPN-BMC remote-as 4200000000
   neighbor SPN-BMC bfd
   neighbor SPN-BMC description eBGP:BMC-CHI0
   neighbor SPN-BMC ebgp-multihop 2
   neighbor SPN-BMC route-map SPN-BMC-OUT out
   neighbor SPN-BMC password 
   neighbor SPN-BMC default-originate always
   neighbor SPN-BMC send-community standard extended
   neighbor SPN-BMC maximum-routes 12000
   neighbor 10.110.0.1 maximum-routes 0
   neighbor 10.110.14.0 maximum-routes 0
   neighbor 38.101.160.38 update-source Loopback2
   neighbor 205.171.3.146 shutdown
   neighbor 205.171.3.146 maximum-routes 12000
   neighbor 2607:6000:900:1::2 maximum-routes 12000
   !
   address-family ipv6
      no neighbor 2607:6000:900:1::2 activate
   !
   vrf PNAP-CORE
      local-as 46385
      router-id 131.153.60.3
      update wait-install
      distance bgp 20 200 1
      maximum-paths 8
      neighbor 131.153.60.7 peer group SPN-BMC
      neighbor 131.153.60.11 peer group SPN-BMC
      no neighbor 131.153.60.7 shutdown
      no neighbor 131.153.60.11 shutdown
	  
      neighbor 2000:1000:60::7 peer group SPN-BMC
      no neighbor 2000:1000:60::7 shutdown	  
      neighbor 2000:1000:60::a1 peer group SPN-BMC
      no neighbor 2000:1000:60::a1 shutdown	  
	  	  
      neighbor 10.118.245.1 description eBGP:AR1-A.BMC.0103.SEA0-E101
      neighbor 131.153.60.1 peer group PNAP-EDGE-PEER-GROUP
      neighbor 131.153.60.1 remote-as 12189
      no neighbor 131.153.60.1 shutdown
      neighbor 131.153.60.1 description eBGP:BB1-PNAP-EDGE-VRF
      neighbor 131.153.60.1 password 
      neighbor 131.153.60.4 remote-as 46385
      neighbor 131.153.60.4 remove-private-as
      neighbor 131.153.60.4 update-source Loopback101
      neighbor 131.153.60.4 description iBGP:BB2.PNAP.SEA0-CORE-VRF
      neighbor 131.153.60.4 password 
      neighbor 131.153.60.4 send-community
      neighbor 131.153.60.4 maximum-routes 12000
      neighbor 172.31.203.83 remote-as 64900
      neighbor 172.31.203.83 description eBGP:AR1.INJECT-NETWORK.SEA0
      neighbor 172.31.203.83 route-map SS-INJECT-IN in
      neighbor 172.31.203.83 route-map SS-INJECT-OUT out
      neighbor 172.31.203.83 maximum-routes 12000
      neighbor 172.31.203.84 remote-as 64900
      neighbor 172.31.203.84 description eBGP:AR2.INJECT-NETWORK.SEA0
      neighbor 172.31.203.84 route-map SS-INJECT-IN in
      neighbor 172.31.203.84 route-map SS-INJECT-OUT out
      neighbor 172.31.203.84 maximum-routes 12000
      neighbor 2607:6000:900:1::1 peer group PNAP-EDGE-PEER-GROUP
      neighbor 2607:6000:900:1::1 remote-as 12189
      no neighbor 2607:6000:900:1::1 shutdown
      neighbor 2607:6000:900:1::1 description eBGP:BB1.PNAP.SEA0.EDGE
      neighbor 2607:6000:900:1::1 password 
      neighbor 2607:6000:900:66::211 remote-as 64900
      neighbor 2607:6000:900:66::211 description eBGP:AR1.INJECT-NETWORK.0101.SEA0
      neighbor 2607:6000:900:66::211 route-map SS-INJECT-IN in
      neighbor 2607:6000:900:66::211 route-map SS-INJECT-OUT out
      neighbor 2607:6000:900:66::211 maximum-routes 12000
      neighbor 2607:6000:900:66::212 remote-as 64900
      neighbor 2607:6000:900:66::212 description eBGP:AR2.INJECT-NETWORK.0101.SEA0
      neighbor 2607:6000:900:66::212 route-map SS-INJECT-IN in
      neighbor 2607:6000:900:66::212 route-map SS-INJECT-OUT out
      neighbor 2607:6000:900:66::212 maximum-routes 12000
      neighbor 2607:ff00:901:1::2 remote-as 46385
      neighbor 2607:ff00:901:1::2 update-source Loopback101
      neighbor 2607:ff00:901:1::2 description iBGP:BB2.PNAP.0101.SEA0-CORE
      neighbor 2607:ff00:901:1::2 password 
      neighbor 2607:ff00:901:1::2 maximum-routes 12000
      neighbor 2620:129:1:2::1 maximum-routes 12000
      !
      address-family ipv4
         neighbor 10.118.0.129 prefix-list DEFAULT-ONLY out
         network 131.153.61.0/24
         network 131.153.84.0/24 route-map US-NO-EXPORT
         network 131.153.165.0/24
		 neighbor SPN-BMC activate
      !
      address-family ipv6
         neighbor 2607:6000:900:1::1 activate
         neighbor 2607:6000:900:66::211 activate
         neighbor 2607:6000:900:66::212 activate
         neighbor 2607:ff00:901:1::2 activate
         neighbor 2607:ff00:901:3::12 activate
         neighbor 2607:ff00:901:3::12 prefix-list IPv6-DEFAULT-ONLY out
         no neighbor 2620:129:1:2::1 activate
         network 2607:6003:2309::/48
         network 2607:ff00:900::/40
		 neighbor SPN-BMC activate
   !
   vrf PNAP-EDGE
      router-id 131.153.60.1
      update wait-install
      distance bgp 20 200 1
      graceful-restart restart-time 300
      graceful-restart
      maximum-paths 8
      neighbor 4.69.248.73 remote-as 3356
      neighbor 4.69.248.73 remove-private-as
      neighbor 4.69.248.73 update-source Loopback4
      neighbor 4.69.248.73 description EBGP:EBGP:CENTURYLINK3356:LO4
      neighbor 4.69.248.73 ebgp-multihop 2
      neighbor 4.69.248.73 route-map CENTURYLINK-BGP-PEER-IN in
      neighbor 4.69.248.73 route-map CENTURYLINK-BGP-PEER-OUT out
      neighbor 4.69.248.73 password 
      neighbor 4.69.248.73 send-community
      neighbor 4.69.248.73 maximum-routes 0
      neighbor 10.110.0.1 remote-as 12189
      neighbor 10.110.0.1 shutdown
      neighbor 10.110.0.1 bfd
      neighbor 10.110.0.1 description iBGP-EU-RR
      neighbor 10.110.0.1 route-map US-RR-IN in
      neighbor 10.110.0.1 route-map US-RR-OUT out
      neighbor 10.110.0.1 password 
      neighbor 10.110.0.1 send-community standard extended
      neighbor 10.110.0.1 maximum-routes 0
      neighbor 10.110.14.0 remote-as 12189
      neighbor 10.110.14.0 description iBGP-US-TPT
      neighbor 10.110.14.0 route-reflector-client
      neighbor 10.110.14.0 route-map US-TRANSPORT-OUT out
      neighbor 10.110.14.0 password
      neighbor 10.110.14.0 send-community standard extended
      neighbor 10.110.14.0 maximum-routes 0
      neighbor 38.101.160.38 peer group ISP-PEER-GROUP
      neighbor 38.101.160.38 remote-as 174
      no neighbor 38.101.160.38 shutdown
      neighbor 38.101.160.38 update-source Loopback2
      neighbor 38.101.160.38 description eBGP:COGENT:
      neighbor 38.101.160.38 ebgp-multihop 2
      neighbor 38.101.160.38 route-map COGENT-BGP-PEER-IN in
      neighbor 38.101.160.38 route-map COGENT-BGP-PEER-OUT out
      neighbor 38.101.160.38 password
      neighbor 38.101.160.38 maximum-routes 0
      neighbor 62.115.56.68 remote-as 1299
      neighbor 62.115.56.68 remove-private-as
      neighbor 62.115.56.68 description EBGP:TELIA1299:
      neighbor 62.115.56.68 route-map TELIA-BGP-PEER-IN in
      neighbor 62.115.56.68 route-map TELIA-BGP-PEER-OUT out
      neighbor 62.115.56.68 password
      neighbor 62.115.56.68 send-community
      neighbor 62.115.56.68 maximum-routes 0
      neighbor 65.122.235.201 shutdown
      neighbor 65.122.235.201 maximum-routes 12000
      neighbor 66.28.8.2 remote-as 174
      neighbor 66.28.8.2 remove-private-as
      neighbor 66.28.8.2 update-source Loopback2
      neighbor 66.28.8.2 description EBGP:COGENT:BLACHOLE-SERVER:
      neighbor 66.28.8.2 ebgp-multihop 15
      neighbor 66.28.8.2 route-map COGENT-BGP-BLACKHOLE-IN in
      neighbor 66.28.8.2 route-map COGENT-BGP-BLACKHOLE-OUT out
      neighbor 66.28.8.2 password
      neighbor 66.28.8.2 maximum-routes 12000
      neighbor 131.153.60.2 remote-as 12189
      neighbor 131.153.60.2 update-source Loopback1
      neighbor 131.153.60.2 description iBGP:BB2.PNAP.SEA0-EDGE
      neighbor 131.153.60.2 send-community
      neighbor 131.153.60.2 maximum-routes 0
      neighbor 131.153.60.3 peer group PNAP-CORE-PEER-GROUP
      neighbor 131.153.60.3 remote-as 46385
      no neighbor 131.153.60.3 shutdown
      neighbor 131.153.60.3 description eBGP:PNAP-CORE-VRF:
      neighbor 131.153.60.3 password
      neighbor 199.201.106.52 remote-as 12189
      neighbor 199.201.106.52 update-source Loopback2
      neighbor 199.201.106.52 description BGP:WANGUARD-GLOBAL_SENSOR
      neighbor 199.201.106.52 route-map BGP-WANGUARD-FILTER-SERVER-IN in
      neighbor 199.201.106.52 maximum-routes 50
      neighbor 208.76.14.223 remote-as 12189
      neighbor 208.76.14.223 update-source Loopback1
      neighbor 208.76.14.223 description Kentik_Detect
      neighbor 208.76.14.223 route-reflector-client
      neighbor 208.76.14.223 timers 30 720
      neighbor 208.76.14.223 route-map BGP-WANGUARD-FILTER-SERVER-IN in
      neighbor 208.76.14.223 password
      neighbor 208.76.14.223 send-community
      neighbor 208.76.14.223 maximum-routes 100
      neighbor 2001:550:2:23::20 peer group ISP-PEER-GROUP
      neighbor 2001:550:2:23::20 remote-as 174
      no neighbor 2001:550:2:23::20 shutdown
      neighbor 2001:550:2:23::20 update-source Loopback2
      neighbor 2001:550:2:23::20 description eBGP:COGENT:
      neighbor 2001:550:2:23::20 ebgp-multihop 2
      neighbor 2001:550:2:23::20 route-map COGENT-BGP-PEER-IN in
      neighbor 2001:550:2:23::20 route-map COGENT-BGP-PEER-OUT out
      neighbor 2001:550:2:23::20 password
      neighbor 2001:550:2:23::20 maximum-routes 0
      neighbor 2001:1900::5:37 maximum-routes 12000
      neighbor 2001:1900::5:60 remote-as 3356
      neighbor 2001:1900::5:60 remove-private-as
      neighbor 2001:1900::5:60 update-source Loopback4
      neighbor 2001:1900::5:60 description EBGP:EBGP:CENTURYLINK3356:LO4
      neighbor 2001:1900::5:60 ebgp-multihop 2
      neighbor 2001:1900::5:60 route-map CENTURYLINK-BGP-PEER-IN in
      neighbor 2001:1900::5:60 route-map CENTURYLINK-BGP-PEER-OUT out
      neighbor 2001:1900::5:60 password
      neighbor 2001:1900::5:60 send-community
      neighbor 2001:1900::5:60 maximum-routes 0
      neighbor 2001:2035:0:260c::1 remote-as 1299
      neighbor 2001:2035:0:260c::1 remove-private-as
      neighbor 2001:2035:0:260c::1 description EBGP:TELIA:
      neighbor 2001:2035:0:260c::1 route-map TELIA-BGP-PEER-IN in
      neighbor 2001:2035:0:260c::1 route-map TELIA-BGP-PEER-OUT out
      neighbor 2001:2035:0:260c::1 password
      neighbor 2001:2035:0:260c::1 send-community
      neighbor 2001:2035:0:260c::1 maximum-routes 0
      neighbor 2607:6000:900:1::2 remote-as 12189
      neighbor 2607:6000:900:1::2 update-source Loopback1
      neighbor 2607:6000:900:1::2 description iBGP:BB2.PNAP.0101.SEA0-EDGE
      neighbor 2607:6000:900:1::2 ebgp-multihop 2
      neighbor 2607:6000:900:1::2 password
      neighbor 2607:6000:900:1::2 send-community
      neighbor 2607:6000:900:1::2 maximum-routes 0
      neighbor 2607:ff00:901:1::1 peer group PNAP-CORE-PEER-GROUP
      neighbor 2607:ff00:901:1::1 remote-as 46385
      no neighbor 2607:ff00:901:1::1 shutdown
      neighbor 2607:ff00:901:1::1 description eBGP:BB1.PNAP.SEA0.CORE
      neighbor 2607:ff00:901:1::1 password
      neighbor 2607:ff00:901:1::1 default-originate
      neighbor 2620:129:1:2::1 remote-as 12189
      neighbor 2620:129:1:2::1 update-source Loopback1
      neighbor 2620:129:1:2::1 description Kentik_Detect
      neighbor 2620:129:1:2::1 route-reflector-client
      neighbor 2620:129:1:2::1 timers 30 720
      neighbor 2620:129:1:2::1 route-map BGP-WANGUARD-FILTER-SERVER-IN in
      neighbor 2620:129:1:2::1 password
      neighbor 2620:129:1:2::1 send-community standard extended
      neighbor 2620:129:1:2::1 maximum-routes 100
      redistribute static route-map BGP-REDISTR-STATIC
      !
      address-family ipv4
         network 131.153.60.0/22
      !
      address-family ipv6
         neighbor 2001:550:2:23::20 activate
         no neighbor 2001:1900::5:37 activate
         neighbor 2001:1900::5:60 activate
         neighbor 2001:2035:0:260c::1 activate
         neighbor 2607:6000:900:1::2 activate
         neighbor 2607:ff00:901:1::1 activate
         neighbor 2620:129:1:2::1 activate
         neighbor 2620:129:1:2::1 prefix-list kentik-noreceive in
         network 2607:6000:900::/40
		 
	vrf SPINE
      router-id 131.153.60.5
	  local-as 4200000000
      router-id 
      update wait-install
      distance bgp 20 200 1
      maximum-paths 8
	  bgp listen range 10.216.199.0/24 peer-group BMC-EVPN peer-filter BMC-TOR-PEER-FILTER
      bgp listen range 10.216.197.0/24 peer-group BMC-LEAF-TOR peer-filter BMC-TOR-PEER-FILTER
      bgp listen range 10.216.198.0/24 peer-group BMC-LEAF-TOR peer-filter BMC-TOR-PEER-FILTER
	  bgp listen range 2000:1000::/64 peer-group BMC-LEAF-TORv6 peer-filter BMC-TOR-PEER-FILTER

!this section goes under general bgp config, is only here for ease of legibility
	  neighbor BMC-EVPN peer group
	  neighbor BMC-EVPN update-source Loopback3
	  neighbor BMC-EVPN bfd
	  neighbor BMC-EVPN description EVPN-Peers
	  neighbor BMC-EVPN ebgp-multihop 2
	  neighbor BMC-EVPN password 7 
	  neighbor BMC-EVPN send-community standard extended
	  neighbor BMC-EVPN maximum-routes 12000
	  neighbor BMC-LEAF-TOR peer group
	  neighbor BMC-LEAF-TOR description EBGP-BMC-TORS
	  neighbor BMC-LEAF-TOR password 7 
	  neighbor BMC-LEAF-TOR send-community standard extended
	  neighbor BMC-LEAF-TORv6 maximum-routes 12000
	  neighbor BMC-LEAF-TORv6 peer group
	  neighbor BMC-LEAF-TORv6 description EBGP-BMC-TORS
	  neighbor BMC-LEAF-TORv6 password 7 
	  neighbor BMC-LEAF-TORv6 send-community standard extended
	  neighbor BMC-LEAF-TORv6 maximum-routes 12000
	  neighbor CORE-SPINE peer group
	  neighbor CORE-SPINEv6 peer group
!end of section
      neighbor 131.153.60.6 remote-as 46385
      no neighbor 131.153.60.6 shutdown
      neighbor 131.153.60.9 remote-as 46385
      no neighbor 131.153.60.9 shutdown
	  !
      neighbor 2000:1000:60::6 remote-as 46385
      no neighbor 2000:1000:60::6 shutdown	 	
      neighbor 2000:1000:60::9 remote-as 46385
      no neighbor 2000:1000:60::9 shutdown	  
	  !
	  address-family evpn
      bgp next-hop-unchanged
      neighbor BMC-EVPN activate
	  !
      address-family ipv4
      no neighbor BMC-EVPN activate
	  neighbor CORE-SPINE activate
	  !
      address-family ipv6
      no neighbor BMC-EVPN activate
	  neighbor BMC-LEAF-TORv6 activate
	  neighbor CORE-SPINEv6 activate

!
router ospf 1 vrf PNAP-EDGE
   router-id 131.153.60.1
   passive-interface default
   no passive-interface Port-Channel1
   redistribute static
   network 0.0.0.0/0 area 0.0.0.0
   max-lsa 12000
!
router ospf 100 vrf PNAP-CORE
   router-id 131.153.60.3
   passive-interface default
   no passive-interface Ethernet32
   no passive-interface Port-Channel2
   redistribute static
   network 0.0.0.0/0 area 0.0.0.0
   max-lsa 12000
   default-information originate
!
ipv6 router ospf 1 vrf PNAP-EDGE
   router-id 131.153.60.1
   passive-interface default
   no passive-interface Port-Channel1
   redistribute static
!
ipv6 router ospf 100 vrf PNAP-CORE
   router-id 131.153.60.3
   passive-interface default
   no passive-interface Port-Channel2
   redistribute static
   default-information originate always
!
!
aaa authentication login default group tacacs+ local
aaa authentication login console local
aaa accounting exec default start-stop group tacacs+
aaa accounting system default start-stop group tacacs+
aaa accounting commands all default start-stop group tacacs+
!
management ssh
   ip access-group TTY in
   ipv6 access-group TTYv6-ACCESS in
   idle-timeout 20
   !
   vrf PNAP-CORE
      shutdown
   !
   vrf PNAP-EDGE
      shutdown
!
end
